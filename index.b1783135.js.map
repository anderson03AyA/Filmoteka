{"mappings":"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","sources":["src/genres.js","src/index.js"],"sourcesContent":["export const getGenres = async () => {\nconst API_KEY = '9aaec7b70164094369485674dba76f62';\n\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5YWFlYzdiNzAxNjQwOTQzNjk0ODU2NzRkYmE3NmY2MiIsInN1YiI6IjY0NTlhOWEyNzdkMjNiMDEzNjVkZDJlYyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.KhcKUdwkddD7iZWM02lRSUXeaIlmMwnz5XvQav89l20',\n    },\n  };\n\n  try {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/genre/movie/list?language=en&api_key=${API_KEY}`,\n      options\n    );\n\n      const data = await response.json();\n    return data;\n  } catch (err) {\n    console.error(err);\n  }\n};\n","import { getGenres } from './genres';\n\nconst ulPages = document.querySelector('.pagination__page');\nconst searchInput = document.querySelector('.search');\nlet id = searchInput.value;\nconst send = document.querySelector('.send');\nconst div = document.querySelector('.movies-container');\n\nconst API_KEY = '9aaec7b70164094369485674dba76f62';\nlet API_URL = '';\n\nconst CATEGORIES = {\n  trending: '/trending/movie/week',\n  querySearch: '/search/movie',\n  genre: '/genre/movie/list',\n  basic: '&language=en-US&include_adult=false',\n};\n\nconst baseImageUrl = 'https://image.tmdb.org/t/p/';\n\nlet currentPage = 1;\nlet totalPages = 1;\nlet resultsGenre = [];\n\nconst listGenres = getGenres();\nlistGenres.then(results => {\n  resultsGenre = results.genres;\n  console.log(resultsGenre);\n});\n\nasync function getDate(page) {\n  try {\n    const response = await fetch(`${API_URL} &page=${page}`);\n    const data = await response.json();\n\n    console.log(data);\n\n    // Verificar si se encontraron resultados de búsqueda\n    if (data.results && data.results.length > 0) {\n      // Obtener los resultados de la página actual\n      const movies = data.results;\n      let indice = 0;\n      totalPages = data.total_pages;\n      let li = ``;\n      //pages style with dots\n      if (totalPages < 10) {\n        for (let i = 0; i < totalPages; i++) {\n          if (i + 1 === currentPage) {\n            li += `<li class=\"currentPage\"> ${i + 1}</li>`;\n          } else {\n            li += `<li> ${i + 1}</li>`;\n          }\n        }\n      } else {\n        //for handle dots\n        if (currentPage > 4 && currentPage <= totalPages - 4) {\n          //page start\n          li += `<li>1</li>`;\n          li += `<li>...</li>`;\n          //2 antes del page\n          li += `<li>${currentPage - 2}</li>`;\n          li += `<li>${currentPage - 1}</li>`;\n          //page current\n          li += `<li  class=\"currentPage\">${currentPage}</li>`;\n          //next2 page\n          li += `<li>${currentPage + 1}</li>`;\n          li += `<li>${currentPage + 2}</li>`;\n          li += `<li>...</li>`;\n          //page end\n          li += `<li>${totalPages}</li>`;\n        } else if (currentPage == 4) {\n          li += `<li>${currentPage - 3}</li>`;\n          li += `<li>${currentPage - 2}</li>`;\n          li += `<li>${currentPage - 1}</li>`;\n          for (let i = currentPage; i < currentPage + 5; i++) {\n            if (i === currentPage) {\n              li += `<li class=\"currentPage\">${i}</li>`;\n            } else {\n              li += `<li>${i}</li>`;\n            }\n          }\n          li += `<li>...</li>`;\n          //page end\n          li += `<li>${totalPages}</li>`;\n        } else if (currentPage == 3) {\n          li += `<li>${currentPage - 2}</li>`;\n          li += `<li>${currentPage - 1}</li>`;\n          for (let i = currentPage; i < currentPage + 5; i++) {\n            if (i === currentPage) {\n              li += `<li class=\"currentPage\">${i}</li>`;\n            } else {\n              li += `<li>${i}</li>`;\n            }\n          }\n          li += `<li>...</li>`;\n          //page end\n          li += `<li>${totalPages}</li>`;\n        } else if (currentPage == 2) {\n          li += `<li>${currentPage - 1}</li>`;\n          for (let i = currentPage; i < currentPage + 6; i++) {\n            if (i === currentPage) {\n              li += `<li class=\"currentPage\">${i}</li>`;\n            } else {\n              li += `<li>${i}</li>`;\n            }\n          }\n          li += `<li>...</li>`;\n          //page end\n          li += `<li>${totalPages}</li>`;\n        } else if (currentPage == 1) {\n          for (let i = currentPage; i < currentPage + 7; i++) {\n            if (i === currentPage) {\n              li += `<li class=\"currentPage\">${i}</li>`;\n            } else {\n              li += `<li>${i}</li>`;\n            }\n          }\n          li += `<li>...</li>`;\n          //page end\n          li += `<li>${totalPages}</li>`;\n        }\n        //page Styles dots End\n        else if (currentPage + 4 > totalPages) {\n          li += `<li>1</li>`;\n          li += `<li>...</li>`;\n\n          if (currentPage === totalPages - 3) {\n            li += `<li>${currentPage - 3}</li>`;\n            li += `<li>${currentPage - 2}</li>`;\n            li += `<li>${currentPage - 1}</li>`;\n\n            li += `<li class=\"currentPage\">${currentPage}</li>`;\n\n            for (i = 1; i < 4; i++) {\n              li += `<li>${currentPage + i}</li>`;\n            }\n          } else if (currentPage === totalPages - 2) {\n            li += `<li>${currentPage - 4}</li>`;\n            li += `<li>${currentPage - 3}</li>`;\n            li += `<li>${currentPage - 2}</li>`;\n            li += `<li>${currentPage - 1}</li>`;\n\n            li += `<li class=\"currentPage\">${currentPage}</li>`;\n\n            for (i = 1; i < 3; i++) {\n              li += `<li>${currentPage + i}</li>`;\n            }\n          } else if (currentPage === totalPages - 1) {\n            li += `<li>${currentPage - 5}</li>`;\n            li += `<li>${currentPage - 4}</li>`;\n            li += `<li>${currentPage - 3}</li>`;\n            li += `<li>${currentPage - 2}</li>`;\n            li += `<li>${currentPage - 1}</li>`;\n\n            li += `<li class=\"currentPage\">${currentPage}</li>`;\n\n            for (i = 1; i < 2; i++) {\n              li += `<li>${currentPage + i}</li>`;\n            }\n          } else if (currentPage === totalPages) {\n            li += `<li>${currentPage - 6}</li>`;\n            li += `<li>${currentPage - 5}</li>`;\n            li += `<li>${currentPage - 4}</li>`;\n            li += `<li>${currentPage - 3}</li>`;\n            li += `<li>${currentPage - 2}</li>`;\n            li += `<li>${currentPage - 1}</li>`;\n\n            li += `<li class=\"currentPage\">${currentPage}</li>`;\n\n            for (i = 1; i < 1; i++) {\n              li += `<li>${currentPage + i}</li>`;\n            }\n          }\n        }\n      }\n\n      ulPages.innerHTML = li;\n\n      const movieCards = movies.map(movie => {\n        const idGenres = data.results[indice].genre_ids;\n\n        let result = resultsGenre.filter(filtro =>\n          idGenres.includes(filtro.id)\n        );\n        console.log(result);\n\n        const title = movie.title;\n        const releaseYear = movie.release_date;\n        const moviePoster = `${baseImageUrl}w500${movie.poster_path}`;\n\n        indice++;\n        let resultGenre = result.map(genre => genre.name);\n        return `<div class=\"photo-card\">\n          <div class=\"info\">\n            <a href=\"${moviePoster}\" class=\"info__poster\">\n              <img class=\"info__poster--img\" src=\"${moviePoster}\" alt=\"\" loading=\"lazy\" width=\"100px\" height=\"100px\" />\n            </a>\n              <h3 class=\"info__title\">\n              <strong class=\"title\">${title}</strong>\n            </h3>\n            <p class=\"info__genre\">\n              ${resultGenre}\n               |\n               ${releaseYear}\n            </p>\n            <p class=\"info-item\">\n             \n            </p>\n          \n          </div>\n        </div>`;\n      });\n\n      div.innerHTML = movieCards.join('');\n\n      totalPages = data.total_pages;\n    } else {\n      // No se encontraron resultados de búsqueda\n      console.log('No se encontraron resultados de búsqueda.');\n    }\n  } catch (error) {\n    console.log('Ha ocurrido un error:', error);\n  }\n}\n\nsend.addEventListener('click', async e => {\n  e.preventDefault();\n  if (searchInput.value === '') {\n  } else {\n    ulPages.value = '';\n    li = '';\n    id = searchInput.value;\n    API_URL = `https://api.themoviedb.org/3${CATEGORIES.querySearch}?api_key=${API_KEY}&query=${id}${CATEGORIES.basic}`;\n    currentPage = 1;\n    await getDate(currentPage);\n  }\n});\n\ndocument\n  .getElementById('pagination__prev-page')\n  .addEventListener('click', async () => {\n    if (currentPage > 1) {\n      currentPage--;\n      await getDate(currentPage);\n    }\n  });\ndocument\n  .getElementById('pagination__next-page')\n  .addEventListener('click', async () => {\n    if (currentPage < totalPages) {\n      currentPage++;\n      await getDate(currentPage);\n    }\n  });\n"],"names":["$1f0dc3b9307be026$var$ulPages","document","querySelector","$1f0dc3b9307be026$var$searchInput","$1f0dc3b9307be026$var$id","value","$1f0dc3b9307be026$var$send","$1f0dc3b9307be026$var$div","$1f0dc3b9307be026$var$API_URL","$1f0dc3b9307be026$var$CATEGORIES","$1f0dc3b9307be026$var$currentPage","$1f0dc3b9307be026$var$totalPages","$1f0dc3b9307be026$var$resultsGenre","async","$1f0dc3b9307be026$var$getDate","page","response","fetch","data","json","console","log","results","length","movies","indice","total_pages","li","i","innerHTML","movieCards","map","movie","idGenres","genre_ids","result","filter","filtro","includes","id","title","releaseYear","release_date","moviePoster","poster_path","genre","name","join","error","options","method","headers","accept","Authorization","err","then","genres","addEventListener","e","preventDefault","getElementById"],"version":3,"file":"index.b1783135.js.map"}