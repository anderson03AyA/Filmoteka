const e=document.querySelector(".search");let t=e.value;const n=document.querySelector(".send"),a=document.querySelector(".movies-container"),s=`https://api.themoviedb.org/3${o.querySearch}?api_key=9aaec7b70164094369485674dba76f62&query=${t}${o.basic}`,o={trending:"/trending/movie/week",querySearch:"/search/movie",genre:"/genre/movie/list",basic:"&language=en-US&include_adult=false"};let i=1,r=1;async function c(e){try{const t=await fetch(`${s} &page=${e}`),n=await t.json();if(console.log(n),n.results&&n.results.length>0){const e=n.results;let t=0;const s=e.map((e=>{const a=n.results[t].genre_ids;let s=resultsGenre.filter((e=>a.includes(e.id)));console.log(s);const o=e.title,i=e.release_date,r=`https://image.tmdb.org/t/p/w500${e.poster_path}`;return t++,`<div class="photo-card">\n          <div class="info">\n            <p class="info-item">\n              <strong>${o}</strong>\n            </p>\n              <p class="info-item">\n              <strong>${o}</strong>\n            </p>\n            <p class="info-item">\n              <strong>${s.map((e=>e.name))}</strong>\n            </p>\n            <p class="info-item">\n              <strong>${i}</strong>\n            </p>\n            <a href="${r}" class="gallery">\n              <img src="${r}" alt="" loading="lazy" width="100px" height="100px" />\n            </a>\n          </div>\n        </div>`}));a.innerHTML=s.join(""),r=n.total_pages}else console.log("No se encontraron resultados de bÃºsqueda.")}catch(e){console.log("Ha ocurrido un error:",e)}}function l(){document.getElementById("current-page").textContent=i,document.getElementById("total-pages").textContent=r}(async()=>{const e={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5YWFlYzdiNzAxNjQwOTQzNjk0ODU2NzRkYmE3NmY2MiIsInN1YiI6IjY0NTlhOWEyNzdkMjNiMDEzNjVkZDJlYyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.KhcKUdwkddD7iZWM02lRSUXeaIlmMwnz5XvQav89l20"}};try{const t=await fetch("https://api.themoviedb.org/3/genre/movie/list?language=en",e);return await t.json()}catch(e){console.error(e)}})().then((e=>{resultsGenre=e.genres,console.log(resultsGenre)})),n.addEventListener("click",(async n=>{n.preventDefault(),""===e.value?Notify.warning("input invalid"):(t=e.value,s=`https://api.themoviedb.org/3${o.querySearch}?api_key=9aaec7b70164094369485674dba76f62&query=${t}${o.basic}`,i=1,await c(i),l())})),document.getElementById("prev-page").addEventListener("click",(async()=>{i>1&&(i--,await c(i),l())})),document.getElementById("next-page").addEventListener("click",(async()=>{i<r&&(i++,await c(i),l())}));
//# sourceMappingURL=index.3996a6bf.js.map
