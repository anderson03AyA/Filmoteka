const l=document.querySelector(".pagination__page"),e=document.querySelector(".search");let t=e.value;const n=document.querySelector(".send"),a=document.querySelector(".movies-container");let s="";const o="/search/movie",c="&language=en-US&include_adult=false";let r=1,$=1,d=[];async function g(e){try{const t=await fetch(`${s} &page=${e}`),n=await t.json();if(console.log(n),n.results&&n.results.length>0){const e=n.results;let t=0;$=n.total_pages;let s="";if($<10)for(let i=0;i<$;i++)s+=i+1===r?`<li class="currentPage"> ${i+1}</li>`:`<li> ${i+1}</li>`;else if(r>4&&r<=$-4)s+="<li>1</li>",s+="<li>...</li>",s+=`<li>${r-2}</li>`,s+=`<li>${r-1}</li>`,s+=`<li  class="currentPage">${r}</li>`,s+=`<li>${r+1}</li>`,s+=`<li>${r+2}</li>`,s+="<li>...</li>",s+=`<li>${$}</li>`;else if(4==r){s+=`<li>${r-3}</li>`,s+=`<li>${r-2}</li>`,s+=`<li>${r-1}</li>`;for(let i=r;i<r+5;i++)s+=i===r?`<li class="currentPage">${i}</li>`:`<li>${i}</li>`;s+="<li>...</li>",s+=`<li>${$}</li>`}else if(3==r){s+=`<li>${r-2}</li>`,s+=`<li>${r-1}</li>`;for(let i=r;i<r+5;i++)s+=i===r?`<li class="currentPage">${i}</li>`:`<li>${i}</li>`;s+="<li>...</li>",s+=`<li>${$}</li>`}else if(2==r){s+=`<li>${r-1}</li>`;for(let i=r;i<r+6;i++)s+=i===r?`<li class="currentPage">${i}</li>`:`<li>${i}</li>`;s+="<li>...</li>",s+=`<li>${$}</li>`}else if(1==r){for(let i=r;i<r+7;i++)s+=i===r?`<li class="currentPage">${i}</li>`:`<li>${i}</li>`;s+="<li>...</li>",s+=`<li>${$}</li>`}else if(r+4>$)if(s+="<li>1</li>",s+="<li>...</li>",r===$-3)for(s+=`<li>${r-3}</li>`,s+=`<li>${r-2}</li>`,s+=`<li>${r-1}</li>`,s+=`<li class="currentPage">${r}</li>`,i=1;i<4;i++)s+=`<li>${r+i}</li>`;else if(r===$-2)for(s+=`<li>${r-4}</li>`,s+=`<li>${r-3}</li>`,s+=`<li>${r-2}</li>`,s+=`<li>${r-1}</li>`,s+=`<li class="currentPage">${r}</li>`,i=1;i<3;i++)s+=`<li>${r+i}</li>`;else if(r===$-1)for(s+=`<li>${r-5}</li>`,s+=`<li>${r-4}</li>`,s+=`<li>${r-3}</li>`,s+=`<li>${r-2}</li>`,s+=`<li>${r-1}</li>`,s+=`<li class="currentPage">${r}</li>`,i=1;i<2;i++)s+=`<li>${r+i}</li>`;else if(r===$)for(s+=`<li>${r-6}</li>`,s+=`<li>${r-5}</li>`,s+=`<li>${r-4}</li>`,s+=`<li>${r-3}</li>`,s+=`<li>${r-2}</li>`,s+=`<li>${r-1}</li>`,s+=`<li class="currentPage">${r}</li>`,i=1;i<1;i++)s+=`<li>${r+i}</li>`;l.innerHTML=s;const o=e.map((i=>{const l=n.results[t].genre_ids;let e=d.filter((i=>l.includes(i.id)));console.log(e);const a=i.title,s=i.release_date,o=`https://image.tmdb.org/t/p/w500${i.poster_path}`;return t++,`<div class="photo-card">\n          <div class="info">\n            <a href="${o}" class="info__poster">\n              <img class="info__poster--img" src="${o}" alt="" loading="lazy" width="100px" height="100px" />\n            </a>\n              <h3 class="info__title">\n              <strong class="title">${a}</strong>\n            </h3>\n            <p class="info__genre">\n              ${e.map((i=>i.name))}\n               |\n               ${s}\n            </p>\n            <p class="info-item">\n             \n            </p>\n          \n          </div>\n        </div>`}));a.innerHTML=o.join(""),$=n.total_pages}else console.log("No se encontraron resultados de bÃºsqueda.")}catch(i){console.log("Ha ocurrido un error:",i)}}(async()=>{const i={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5YWFlYzdiNzAxNjQwOTQzNjk0ODU2NzRkYmE3NmY2MiIsInN1YiI6IjY0NTlhOWEyNzdkMjNiMDEzNjVkZDJlYyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.KhcKUdwkddD7iZWM02lRSUXeaIlmMwnz5XvQav89l20"}};try{const l=await fetch("https://api.themoviedb.org/3/genre/movie/list?language=en&api_key=9aaec7b70164094369485674dba76f62",i);return await l.json()}catch(i){console.error(i)}})().then((i=>{d=i.genres,console.log(d)})),n.addEventListener("click",(async i=>{i.preventDefault(),""===e.value||(l.value="",t=e.value,s=`https://api.themoviedb.org/3${o}?api_key=9aaec7b70164094369485674dba76f62&query=${t}${c}`,r=1,await g(r))})),document.getElementById("pagination__prev-page").addEventListener("click",(async()=>{r>1&&(r--,await g(r))})),document.getElementById("pagination__next-page").addEventListener("click",(async()=>{r<$&&(r++,await g(r))}));
//# sourceMappingURL=index.ca71be56.js.map
