const l=document.querySelector(".pagination__page"),i=document.querySelector(".search");if(""!==i){i.value}const e=document.querySelector(".send"),t=document.querySelector(".movies-container");let n="";const a="/search/movie",s="&language=en-US&include_adult=false";let c=1,o=1,r=[];async function $(i){try{const e=await fetch(`${n} &page=${i}`),a=await e.json();if(console.log(a),a.results&&a.results.length>0){const i=a.results;let e=0;o=a.total_pages;let n="";if(o<10)for(let l=0;l<o;l++)n+=l+1===c?`<li class="currentPage"> ${l+1}</li>`:`<li> ${l+1}</li>`;else if(c>4&&c<=o-4)n+="<li>1</li>",n+="<li>...</li>",n+=`<li>${c-2}</li>`,n+=`<li>${c-1}</li>`,n+=`<li  class="currentPage">${c}</li>`,n+=`<li>${c+1}</li>`,n+=`<li>${c+2}</li>`,n+="<li>...</li>",n+=`<li>${o}</li>`;else if(4==c){n+=`<li>${c-3}</li>`,n+=`<li>${c-2}</li>`,n+=`<li>${c-1}</li>`;for(let l=c;l<c+5;l++)n+=l===c?`<li class="currentPage">${l}</li>`:`<li>${l}</li>`;n+="<li>...</li>",n+=`<li>${o}</li>`}else if(3==c){n+=`<li>${c-2}</li>`,n+=`<li>${c-1}</li>`;for(let l=c;l<c+5;l++)n+=l===c?`<li class="currentPage">${l}</li>`:`<li>${l}</li>`;n+="<li>...</li>",n+=`<li>${o}</li>`}else if(2==c){n+=`<li>${c-1}</li>`;for(let l=c;l<c+6;l++)n+=l===c?`<li class="currentPage">${l}</li>`:`<li>${l}</li>`;n+="<li>...</li>",n+=`<li>${o}</li>`}else if(1==c){for(let l=c;l<c+7;l++)n+=l===c?`<li class="currentPage">${l}</li>`:`<li>${l}</li>`;n+="<li>...</li>",n+=`<li>${o}</li>`}else if(c+4>o)if(n+="<li>1</li>",n+="<li>...</li>",c===o-3){n+=`<li>${c-3}</li>`,n+=`<li>${c-2}</li>`,n+=`<li>${c-1}</li>`,n+=`<li class="currentPage">${c}</li>`;for(let l=1;l<4;l++)n+=`<li>${c+l}</li>`}else if(c===o-2){n+=`<li>${c-4}</li>`,n+=`<li>${c-3}</li>`,n+=`<li>${c-2}</li>`,n+=`<li>${c-1}</li>`,n+=`<li class="currentPage">${c}</li>`;for(let l=1;l<3;l++)n+=`<li>${c+l}</li>`}else if(c===o-1){n+=`<li>${c-5}</li>`,n+=`<li>${c-4}</li>`,n+=`<li>${c-3}</li>`,n+=`<li>${c-2}</li>`,n+=`<li>${c-1}</li>`,n+=`<li class="currentPage">${c}</li>`;for(let l=1;l<2;l++)n+=`<li>${c+l}</li>`}else c===o&&(n+=`<li>${c-6}</li>`,n+=`<li>${c-5}</li>`,n+=`<li>${c-4}</li>`,n+=`<li>${c-3}</li>`,n+=`<li>${c-2}</li>`,n+=`<li>${c-1}</li>`,n+=`<li class="currentPage">${c}</li>`,n+=`<li>${c+1}</li>`);l.innerHTML=n;const s=i.map((l=>{const i=a.results[e].genre_ids;let t=r.filter((l=>i.includes(l.id)));console.log(t);const n=l.title,s=l.release_date,c=`https://image.tmdb.org/t/p/w500${l.poster_path}`;return e++,`<div class="photo-card">\n          <div class="info">\n            <a href="${c}" class="info__poster">\n              <img class="info__poster--img" src="${c}" alt="" loading="lazy" width="100px" height="100px" />\n            </a>\n              <h3 class="info__title">\n              <strong class="title">${n}</strong>\n            </h3>\n            <p class="info__genre">\n              ${t.map((l=>l.name))}\n               |\n               ${s}\n            </p>\n            <p class="info-item">\n             \n            </p>\n          \n          </div>\n        </div>`}));t.innerHTML=s.join(""),o=a.total_pages}else console.log("No se encontraron resultados de bÃºsqueda.")}catch(l){console.log("Ha ocurrido un error:",l)}}(async()=>{const l={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5YWFlYzdiNzAxNjQwOTQzNjk0ODU2NzRkYmE3NmY2MiIsInN1YiI6IjY0NTlhOWEyNzdkMjNiMDEzNjVkZDJlYyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.KhcKUdwkddD7iZWM02lRSUXeaIlmMwnz5XvQav89l20"}};try{const i=await fetch("https://api.themoviedb.org/3/genre/movie/list?language=en&api_key=9aaec7b70164094369485674dba76f62",l);return await i.json()}catch(l){console.error(l)}})().then((l=>{r=l.genres,console.log(r)})),e.addEventListener("click",(async e=>{e.preventDefault(),""===i.value||(l.value="",id=i.value,n=`https://api.themoviedb.org/3${a}?api_key=9aaec7b70164094369485674dba76f62&query=${id}${s}`,c=1,await $(c))})),document.getElementById("pagination__prev-page").addEventListener("click",(async()=>{c>1&&(c--,await $(c))})),document.getElementById("pagination__next-page").addEventListener("click",(async()=>{c<o&&(c++,await $(c))}));
//# sourceMappingURL=index.8f868d29.js.map
