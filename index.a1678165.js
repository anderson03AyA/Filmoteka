const l=document.querySelector(".pagination__page"),i=document.querySelector(".search"),e=document.querySelector(".send"),t=document.querySelector(".movies-container");let a="";const n="/search/movie",s="&language=en-US&include_adult=false";let c=1,o=1,r=[];async function $(i){try{const e=await fetch(`${a} &page=${i}`),n=await e.json();if(console.log(n),n.results&&n.results.length>0){const i=n.results;let e=0;o=n.total_pages;let a="";if(o<10)for(let l=0;l<o;l++)a+=l+1===c?`<li class="currentPage"> ${l+1}</li>`:`<li> ${l+1}</li>`;else if(c>4&&c<=o-4)a+="<li>1</li>",a+="<li>...</li>",a+=`<li>${c-2}</li>`,a+=`<li>${c-1}</li>`,a+=`<li  class="currentPage">${c}</li>`,a+=`<li>${c+1}</li>`,a+=`<li>${c+2}</li>`,a+="<li>...</li>",a+=`<li>${o}</li>`;else if(4==c){a+=`<li>${c-3}</li>`,a+=`<li>${c-2}</li>`,a+=`<li>${c-1}</li>`;for(let l=c;l<c+5;l++)a+=l===c?`<li class="currentPage">${l}</li>`:`<li>${l}</li>`;a+="<li>...</li>",a+=`<li>${o}</li>`}else if(3==c){a+=`<li>${c-2}</li>`,a+=`<li>${c-1}</li>`;for(let l=c;l<c+5;l++)a+=l===c?`<li class="currentPage">${l}</li>`:`<li>${l}</li>`;a+="<li>...</li>",a+=`<li>${o}</li>`}else if(2==c){a+=`<li>${c-1}</li>`;for(let l=c;l<c+6;l++)a+=l===c?`<li class="currentPage">${l}</li>`:`<li>${l}</li>`;a+="<li>...</li>",a+=`<li>${o}</li>`}else if(1==c){for(let l=c;l<c+7;l++)a+=l===c?`<li class="currentPage">${l}</li>`:`<li>${l}</li>`;a+="<li>...</li>",a+=`<li>${o}</li>`}else if(c+4>o)if(a+="<li>1</li>",a+="<li>...</li>",c===o-3){a+=`<li>${c-3}</li>`,a+=`<li>${c-2}</li>`,a+=`<li>${c-1}</li>`,a+=`<li class="currentPage">${c}</li>`;for(let l=1;l<4;l++)a+=`<li>${c+l}</li>`}else if(c===o-2){a+=`<li>${c-4}</li>`,a+=`<li>${c-3}</li>`,a+=`<li>${c-2}</li>`,a+=`<li>${c-1}</li>`,a+=`<li class="currentPage">${c}</li>`;for(let l=1;l<3;l++)a+=`<li>${c+l}</li>`}else if(c===o-1){a+=`<li>${c-5}</li>`,a+=`<li>${c-4}</li>`,a+=`<li>${c-3}</li>`,a+=`<li>${c-2}</li>`,a+=`<li>${c-1}</li>`,a+=`<li class="currentPage">${c}</li>`;for(let l=1;l<2;l++)a+=`<li>${c+l}</li>`}else c===o&&(a+=`<li>${c-6}</li>`,a+=`<li>${c-5}</li>`,a+=`<li>${c-4}</li>`,a+=`<li>${c-3}</li>`,a+=`<li>${c-2}</li>`,a+=`<li>${c-1}</li>`,a+=`<li class="currentPage">${c}</li>`,a+=`<li>${c+1}</li>`);l.innerHTML=a;const s=i.map((l=>{const i=n.results[e].genre_ids;let t=r.filter((l=>i.includes(l.id)));console.log(t);const a=l.title,s=l.release_date,c=`https://image.tmdb.org/t/p/w500${l.poster_path}`;return e++,`<div class="photo-card">\n          <div class="info">\n            <a href="${c}" class="info__poster">\n              <img class="info__poster--img" src="${c}" alt="" loading="lazy" width="100px" height="100px" />\n            </a>\n              <h3 class="info__title">\n              <strong class="title">${a}</strong>\n            </h3>\n            <p class="info__genre">\n              ${t.map((l=>l.name))}\n               |\n               ${s}\n            </p>\n            <p class="info-item">\n             \n            </p>\n          \n          </div>\n        </div>`}));t.innerHTML=s.join(""),o=n.total_pages}else console.log("No se encontraron resultados de bÃºsqueda.")}catch(l){console.log("Ha ocurrido un error:",l)}}(async()=>{const l={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5YWFlYzdiNzAxNjQwOTQzNjk0ODU2NzRkYmE3NmY2MiIsInN1YiI6IjY0NTlhOWEyNzdkMjNiMDEzNjVkZDJlYyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.KhcKUdwkddD7iZWM02lRSUXeaIlmMwnz5XvQav89l20"}};try{const i=await fetch("https://api.themoviedb.org/3/genre/movie/list?language=en&api_key=9aaec7b70164094369485674dba76f62",l);return await i.json()}catch(l){console.error(l)}})().then((l=>{r=l.genres,console.log(r)})),e.addEventListener("click",(async e=>{if(e.preventDefault(),""===i.value);else{let e=i.value;l.value="",e=i.value,a=`https://api.themoviedb.org/3${n}?api_key=9aaec7b70164094369485674dba76f62&query=${e}${s}`,c=1,await $(c)}})),document.getElementById("pagination__prev-page").addEventListener("click",(async()=>{c>1&&(c--,await $(c))})),document.getElementById("pagination__next-page").addEventListener("click",(async()=>{c<o&&(c++,await $(c))}));
//# sourceMappingURL=index.a1678165.js.map
